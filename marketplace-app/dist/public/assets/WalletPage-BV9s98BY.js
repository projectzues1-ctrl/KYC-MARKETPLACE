import{c as Bt,r as L,j as o,e as Ie,h as Pt,k as It,d as Dt,u as Lt,a as H,S as J,f as k}from"./index-B6hPo9fH.js";import{u as Ft}from"./useMutation-C_3TpXjp.js";import{L as qt,W as Ut}from"./Layout-BTVfT1Q4.js";import{C as $,a as X,b as Ue,c as ke}from"./card-Cl1MO1GN.js";import{B as Y}from"./button-DdYfvWb9.js";import{I as _e}from"./input-vnQcFn7U.js";import{B as V}from"./badge-Dn4EaI7W.js";import{D as ze,d as Ke,a as He,b as Ve,c as Oe,e as Je}from"./dialog-D_lwzFP4.js";import{L as Ye}from"./label-B38SsxLd.js";import{u as kt}from"./useTranslation-O3_Fa0eH.js";import{L as Qe}from"./lock-67rVn5Zl.js";import{A as Z}from"./arrow-down-left-H1CA7R40.js";import{C as We}from"./circle-check-big-BkJjytOF.js";import{C as _t}from"./copy-DB04-5HM.js";import{T as le}from"./triangle-alert-DGpOeCBb.js";import{L as Ge}from"./loader-circle-bHqV6n7f.js";import{C as Q}from"./clock-BbwHj01_.js";import{C as zt}from"./circle-x-Cd9ohy9Q.js";import"./ThemeToggle-Cd9vwdUm.js";import"./index-Dt-oTuiC.js";import"./shield-DVigj7cn.js";import"./shopping-cart-DT7LSJeM.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ce=Bt("arrow-up-right",Kt);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Vt=Bt("external-link",Ht),Ot=Pt("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),te=L.forwardRef(({className:n,variant:s,...i},t)=>o.jsx("div",{ref:t,role:"alert",className:Ie(Ot({variant:s}),n),...i}));te.displayName="Alert";const Jt=L.forwardRef(({className:n,...s},i)=>o.jsx("h5",{ref:i,className:Ie("mb-1 font-medium leading-none tracking-tight",n),...s}));Jt.displayName="AlertTitle";const re=L.forwardRef(({className:n,...s},i)=>o.jsx("div",{ref:i,className:Ie("text-sm [&_p]:leading-relaxed",n),...s}));re.displayName="AlertDescription";var O={},de,$e;function Yt(){return $e||($e=1,de=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),de}var ue={},U={},Xe;function _(){if(Xe)return U;Xe=1;let n;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return U.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},U.getSymbolTotalCodewords=function(t){return s[t]},U.getBCHDigit=function(i){let t=0;for(;i!==0;)t++,i>>>=1;return t},U.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');n=t},U.isKanjiModeEnabled=function(){return typeof n<"u"},U.toSJIS=function(t){return n(t)},U}var fe={},Ze;function De(){return Ze||(Ze=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function s(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+i)}}n.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},n.from=function(t,e){if(n.isValid(t))return t;try{return s(t)}catch{return e}}})(fe)),fe}var he,et;function Qt(){if(et)return he;et=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(s){const i=Math.floor(s/8);return(this.buffer[i]>>>7-s%8&1)===1},put:function(s,i){for(let t=0;t<i;t++)this.putBit((s>>>i-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),s&&(this.buffer[i]|=128>>>this.length%8),this.length++}},he=n,he}var ge,tt;function Wt(){if(tt)return ge;tt=1;function n(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}return n.prototype.set=function(s,i,t,e){const r=s*this.size+i;this.data[r]=t,e&&(this.reservedBit[r]=!0)},n.prototype.get=function(s,i){return this.data[s*this.size+i]},n.prototype.xor=function(s,i,t){this.data[s*this.size+i]^=t},n.prototype.isReserved=function(s,i){return this.reservedBit[s*this.size+i]},ge=n,ge}var me={},rt;function Gt(){return rt||(rt=1,(function(n){const s=_().getSymbolSize;n.getRowColCoords=function(t){if(t===1)return[];const e=Math.floor(t/7)+2,r=s(t),a=r===145?26:Math.ceil((r-13)/(2*e-2))*2,l=[r-7];for(let c=1;c<e-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},n.getPositions=function(t){const e=[],r=n.getRowColCoords(t),a=r.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||e.push([r[l],r[c]]);return e}})(me)),me}var pe={},nt;function $t(){if(nt)return pe;nt=1;const n=_().getSymbolSize,s=7;return pe.getPositions=function(t){const e=n(t);return[[0,0],[e-s,0],[0,e-s]]},pe}var we={},st;function Xt(){return st||(st=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};n.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},n.from=function(e){return n.isValid(e)?parseInt(e,10):void 0},n.getPenaltyN1=function(e){const r=e.size;let a=0,l=0,c=0,u=null,m=null;for(let E=0;E<r;E++){l=c=0,u=m=null;for(let p=0;p<r;p++){let h=e.get(E,p);h===u?l++:(l>=5&&(a+=s.N1+(l-5)),u=h,l=1),h=e.get(p,E),h===m?c++:(c>=5&&(a+=s.N1+(c-5)),m=h,c=1)}l>=5&&(a+=s.N1+(l-5)),c>=5&&(a+=s.N1+(c-5))}return a},n.getPenaltyN2=function(e){const r=e.size;let a=0;for(let l=0;l<r-1;l++)for(let c=0;c<r-1;c++){const u=e.get(l,c)+e.get(l,c+1)+e.get(l+1,c)+e.get(l+1,c+1);(u===4||u===0)&&a++}return a*s.N2},n.getPenaltyN3=function(e){const r=e.size;let a=0,l=0,c=0;for(let u=0;u<r;u++){l=c=0;for(let m=0;m<r;m++)l=l<<1&2047|e.get(u,m),m>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|e.get(m,u),m>=10&&(c===1488||c===93)&&a++}return a*s.N3},n.getPenaltyN4=function(e){let r=0;const a=e.data.length;for(let c=0;c<a;c++)r+=e.data[c];return Math.abs(Math.ceil(r*100/a/5)-10)*s.N4};function i(t,e,r){switch(t){case n.Patterns.PATTERN000:return(e+r)%2===0;case n.Patterns.PATTERN001:return e%2===0;case n.Patterns.PATTERN010:return r%3===0;case n.Patterns.PATTERN011:return(e+r)%3===0;case n.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case n.Patterns.PATTERN101:return e*r%2+e*r%3===0;case n.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case n.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}n.applyMask=function(e,r){const a=r.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)r.isReserved(c,l)||r.xor(c,l,i(e,c,l))},n.getBestMask=function(e,r){const a=Object.keys(n.Patterns).length;let l=0,c=1/0;for(let u=0;u<a;u++){r(u),n.applyMask(u,e);const m=n.getPenaltyN1(e)+n.getPenaltyN2(e)+n.getPenaltyN3(e)+n.getPenaltyN4(e);n.applyMask(u,e),m<c&&(c=m,l=u)}return l}})(we)),we}var ee={},ot;function vt(){if(ot)return ee;ot=1;const n=De(),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return ee.getBlocksCount=function(e,r){switch(r){case n.L:return s[(e-1)*4+0];case n.M:return s[(e-1)*4+1];case n.Q:return s[(e-1)*4+2];case n.H:return s[(e-1)*4+3];default:return}},ee.getTotalCodewordsCount=function(e,r){switch(r){case n.L:return i[(e-1)*4+0];case n.M:return i[(e-1)*4+1];case n.Q:return i[(e-1)*4+2];case n.H:return i[(e-1)*4+3];default:return}},ee}var xe={},W={},it;function Zt(){if(it)return W;it=1;const n=new Uint8Array(512),s=new Uint8Array(256);return(function(){let t=1;for(let e=0;e<255;e++)n[e]=t,s[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)n[e]=n[e-255]})(),W.log=function(t){if(t<1)throw new Error("log("+t+")");return s[t]},W.exp=function(t){return n[t]},W.mul=function(t,e){return t===0||e===0?0:n[s[t]+s[e]]},W}var at;function er(){return at||(at=1,(function(n){const s=Zt();n.mul=function(t,e){const r=new Uint8Array(t.length+e.length-1);for(let a=0;a<t.length;a++)for(let l=0;l<e.length;l++)r[a+l]^=s.mul(t[a],e[l]);return r},n.mod=function(t,e){let r=new Uint8Array(t);for(;r.length-e.length>=0;){const a=r[0];for(let c=0;c<e.length;c++)r[c]^=s.mul(e[c],a);let l=0;for(;l<r.length&&r[l]===0;)l++;r=r.slice(l)}return r},n.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let r=0;r<t;r++)e=n.mul(e,new Uint8Array([1,s.exp(r)]));return e}})(xe)),xe}var ye,lt;function tr(){if(lt)return ye;lt=1;const n=er();function s(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return s.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},s.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const r=n.mod(e,this.genPoly),a=this.degree-r.length;if(a>0){const l=new Uint8Array(this.degree);return l.set(r,a),l}return r},ye=s,ye}var Ne={},be={},Ce={},ct;function At(){return ct||(ct=1,Ce.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}),Ce}var D={},dt;function St(){if(dt)return D;dt=1;const n="[0-9]+",s="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;D.KANJI=new RegExp(i,"g"),D.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),D.BYTE=new RegExp(t,"g"),D.NUMERIC=new RegExp(n,"g"),D.ALPHANUMERIC=new RegExp(s,"g");const e=new RegExp("^"+i+"$"),r=new RegExp("^"+n+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return D.testKanji=function(c){return e.test(c)},D.testNumeric=function(c){return r.test(c)},D.testAlphanumeric=function(c){return a.test(c)},D}var ut;function z(){return ut||(ut=1,(function(n){const s=At(),i=St();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(r,a){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!s.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?r.ccBits[0]:a<27?r.ccBits[1]:r.ccBits[2]},n.getBestModeForData=function(r){return i.testNumeric(r)?n.NUMERIC:i.testAlphanumeric(r)?n.ALPHANUMERIC:i.testKanji(r)?n.KANJI:n.BYTE},n.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},n.isValid=function(r){return r&&r.bit&&r.ccBits};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+e)}}n.from=function(r,a){if(n.isValid(r))return r;try{return t(r)}catch{return a}}})(be)),be}var ft;function rr(){return ft||(ft=1,(function(n){const s=_(),i=vt(),t=De(),e=z(),r=At(),a=7973,l=s.getBCHDigit(a);function c(p,h,S){for(let A=1;A<=40;A++)if(h<=n.getCapacity(A,S,p))return A}function u(p,h){return e.getCharCountIndicator(p,h)+4}function m(p,h){let S=0;return p.forEach(function(A){const R=u(A.mode,h);S+=R+A.getBitsLength()}),S}function E(p,h){for(let S=1;S<=40;S++)if(m(p,S)<=n.getCapacity(S,h,e.MIXED))return S}n.from=function(h,S){return r.isValid(h)?parseInt(h,10):S},n.getCapacity=function(h,S,A){if(!r.isValid(h))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=e.BYTE);const R=s.getSymbolTotalCodewords(h),B=i.getTotalCodewordsCount(h,S),T=(R-B)*8;if(A===e.MIXED)return T;const v=T-u(A,h);switch(A){case e.NUMERIC:return Math.floor(v/10*3);case e.ALPHANUMERIC:return Math.floor(v/11*2);case e.KANJI:return Math.floor(v/13);case e.BYTE:default:return Math.floor(v/8)}},n.getBestVersionForData=function(h,S){let A;const R=t.from(S,t.M);if(Array.isArray(h)){if(h.length>1)return E(h,R);if(h.length===0)return 1;A=h[0]}else A=h;return c(A.mode,A.getLength(),R)},n.getEncodedBits=function(h){if(!r.isValid(h)||h<7)throw new Error("Invalid QR Code version");let S=h<<12;for(;s.getBCHDigit(S)-l>=0;)S^=a<<s.getBCHDigit(S)-l;return h<<12|S}})(Ne)),Ne}var je={},ht;function nr(){if(ht)return je;ht=1;const n=_(),s=1335,i=21522,t=n.getBCHDigit(s);return je.getEncodedBits=function(r,a){const l=r.bit<<3|a;let c=l<<10;for(;n.getBCHDigit(c)-t>=0;)c^=s<<n.getBCHDigit(c)-t;return(l<<10|c)^i},je}var Ee={},Be,gt;function sr(){if(gt)return Be;gt=1;const n=z();function s(i){this.mode=n.NUMERIC,this.data=i.toString()}return s.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let e,r,a;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),a=parseInt(r,10),t.put(a,10);const l=this.data.length-e;l>0&&(r=this.data.substr(e),a=parseInt(r,10),t.put(a,l*3+1))},Be=s,Be}var ve,mt;function or(){if(mt)return ve;mt=1;const n=z(),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=n.ALPHANUMERIC,this.data=t}return i.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let a=s.indexOf(this.data[r])*45;a+=s.indexOf(this.data[r+1]),e.put(a,11)}this.data.length%2&&e.put(s.indexOf(this.data[r]),6)},ve=i,ve}var Ae,pt;function ir(){if(pt)return Ae;pt=1;const n=z();function s(i){this.mode=n.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return s.getBitsLength=function(t){return t*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(i){for(let t=0,e=this.data.length;t<e;t++)i.put(this.data[t],8)},Ae=s,Ae}var Se,wt;function ar(){if(wt)return Se;wt=1;const n=z(),s=_();function i(t){this.mode=n.KANJI,this.data=t}return i.getBitsLength=function(e){return e*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=s.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}},Se=i,Se}var Te={exports:{}},xt;function lr(){return xt||(xt=1,(function(n){var s={single_source_shortest_paths:function(i,t,e){var r={},a={};a[t]=0;var l=s.PriorityQueue.make();l.push(t,0);for(var c,u,m,E,p,h,S,A,R;!l.empty();){c=l.pop(),u=c.value,E=c.cost,p=i[u]||{};for(m in p)p.hasOwnProperty(m)&&(h=p[m],S=E+h,A=a[m],R=typeof a[m]>"u",(R||A>S)&&(a[m]=S,l.push(m,S),r[m]=u))}if(typeof e<"u"&&typeof a[e]>"u"){var B=["Could not find a path from ",t," to ",e,"."].join("");throw new Error(B)}return r},extract_shortest_path_from_predecessor_list:function(i,t){for(var e=[],r=t;r;)e.push(r),i[r],r=i[r];return e.reverse(),e},find_path:function(i,t,e){var r=s.single_source_shortest_paths(i,t,e);return s.extract_shortest_path_from_predecessor_list(r,e)},PriorityQueue:{make:function(i){var t=s.PriorityQueue,e={},r;i=i||{};for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e.queue=[],e.sorter=i.sorter||t.default_sorter,e},default_sorter:function(i,t){return i.cost-t.cost},push:function(i,t){var e={value:i,cost:t};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=s})(Te)),Te.exports}var yt;function cr(){return yt||(yt=1,(function(n){const s=z(),i=sr(),t=or(),e=ir(),r=ar(),a=St(),l=_(),c=lr();function u(B){return unescape(encodeURIComponent(B)).length}function m(B,T,v){const w=[];let M;for(;(M=B.exec(v))!==null;)w.push({data:M[0],index:M.index,mode:T,length:M[0].length});return w}function E(B){const T=m(a.NUMERIC,s.NUMERIC,B),v=m(a.ALPHANUMERIC,s.ALPHANUMERIC,B);let w,M;return l.isKanjiModeEnabled()?(w=m(a.BYTE,s.BYTE,B),M=m(a.KANJI,s.KANJI,B)):(w=m(a.BYTE_KANJI,s.BYTE,B),M=[]),T.concat(v,w,M).sort(function(y,x){return y.index-x.index}).map(function(y){return{data:y.data,mode:y.mode,length:y.length}})}function p(B,T){switch(T){case s.NUMERIC:return i.getBitsLength(B);case s.ALPHANUMERIC:return t.getBitsLength(B);case s.KANJI:return r.getBitsLength(B);case s.BYTE:return e.getBitsLength(B)}}function h(B){return B.reduce(function(T,v){const w=T.length-1>=0?T[T.length-1]:null;return w&&w.mode===v.mode?(T[T.length-1].data+=v.data,T):(T.push(v),T)},[])}function S(B){const T=[];for(let v=0;v<B.length;v++){const w=B[v];switch(w.mode){case s.NUMERIC:T.push([w,{data:w.data,mode:s.ALPHANUMERIC,length:w.length},{data:w.data,mode:s.BYTE,length:w.length}]);break;case s.ALPHANUMERIC:T.push([w,{data:w.data,mode:s.BYTE,length:w.length}]);break;case s.KANJI:T.push([w,{data:w.data,mode:s.BYTE,length:u(w.data)}]);break;case s.BYTE:T.push([{data:w.data,mode:s.BYTE,length:u(w.data)}])}}return T}function A(B,T){const v={},w={start:{}};let M=["start"];for(let f=0;f<B.length;f++){const y=B[f],x=[];for(let g=0;g<y.length;g++){const j=y[g],N=""+f+g;x.push(N),v[N]={node:j,lastCount:0},w[N]={};for(let C=0;C<M.length;C++){const b=M[C];v[b]&&v[b].node.mode===j.mode?(w[b][N]=p(v[b].lastCount+j.length,j.mode)-p(v[b].lastCount,j.mode),v[b].lastCount+=j.length):(v[b]&&(v[b].lastCount=j.length),w[b][N]=p(j.length,j.mode)+4+s.getCharCountIndicator(j.mode,T))}}M=x}for(let f=0;f<M.length;f++)w[M[f]].end=0;return{map:w,table:v}}function R(B,T){let v;const w=s.getBestModeForData(B);if(v=s.from(T,w),v!==s.BYTE&&v.bit<w.bit)throw new Error('"'+B+'" cannot be encoded with mode '+s.toString(v)+`.
 Suggested mode is: `+s.toString(w));switch(v===s.KANJI&&!l.isKanjiModeEnabled()&&(v=s.BYTE),v){case s.NUMERIC:return new i(B);case s.ALPHANUMERIC:return new t(B);case s.KANJI:return new r(B);case s.BYTE:return new e(B)}}n.fromArray=function(T){return T.reduce(function(v,w){return typeof w=="string"?v.push(R(w,null)):w.data&&v.push(R(w.data,w.mode)),v},[])},n.fromString=function(T,v){const w=E(T,l.isKanjiModeEnabled()),M=S(w),f=A(M,v),y=c.find_path(f.map,"start","end"),x=[];for(let g=1;g<y.length-1;g++)x.push(f.table[y[g]].node);return n.fromArray(h(x))},n.rawSplit=function(T){return n.fromArray(E(T,l.isKanjiModeEnabled()))}})(Ee)),Ee}var Nt;function dr(){if(Nt)return ue;Nt=1;const n=_(),s=De(),i=Qt(),t=Wt(),e=Gt(),r=$t(),a=Xt(),l=vt(),c=tr(),u=rr(),m=nr(),E=z(),p=cr();function h(f,y){const x=f.size,g=r.getPositions(y);for(let j=0;j<g.length;j++){const N=g[j][0],C=g[j][1];for(let b=-1;b<=7;b++)if(!(N+b<=-1||x<=N+b))for(let d=-1;d<=7;d++)C+d<=-1||x<=C+d||(b>=0&&b<=6&&(d===0||d===6)||d>=0&&d<=6&&(b===0||b===6)||b>=2&&b<=4&&d>=2&&d<=4?f.set(N+b,C+d,!0,!0):f.set(N+b,C+d,!1,!0))}}function S(f){const y=f.size;for(let x=8;x<y-8;x++){const g=x%2===0;f.set(x,6,g,!0),f.set(6,x,g,!0)}}function A(f,y){const x=e.getPositions(y);for(let g=0;g<x.length;g++){const j=x[g][0],N=x[g][1];for(let C=-2;C<=2;C++)for(let b=-2;b<=2;b++)C===-2||C===2||b===-2||b===2||C===0&&b===0?f.set(j+C,N+b,!0,!0):f.set(j+C,N+b,!1,!0)}}function R(f,y){const x=f.size,g=u.getEncodedBits(y);let j,N,C;for(let b=0;b<18;b++)j=Math.floor(b/3),N=b%3+x-8-3,C=(g>>b&1)===1,f.set(j,N,C,!0),f.set(N,j,C,!0)}function B(f,y,x){const g=f.size,j=m.getEncodedBits(y,x);let N,C;for(N=0;N<15;N++)C=(j>>N&1)===1,N<6?f.set(N,8,C,!0):N<8?f.set(N+1,8,C,!0):f.set(g-15+N,8,C,!0),N<8?f.set(8,g-N-1,C,!0):N<9?f.set(8,15-N-1+1,C,!0):f.set(8,15-N-1,C,!0);f.set(g-8,8,1,!0)}function T(f,y){const x=f.size;let g=-1,j=x-1,N=7,C=0;for(let b=x-1;b>0;b-=2)for(b===6&&b--;;){for(let d=0;d<2;d++)if(!f.isReserved(j,b-d)){let P=!1;C<y.length&&(P=(y[C]>>>N&1)===1),f.set(j,b-d,P),N--,N===-1&&(C++,N=7)}if(j+=g,j<0||x<=j){j-=g,g=-g;break}}}function v(f,y,x){const g=new i;x.forEach(function(d){g.put(d.mode.bit,4),g.put(d.getLength(),E.getCharCountIndicator(d.mode,f)),d.write(g)});const j=n.getSymbolTotalCodewords(f),N=l.getTotalCodewordsCount(f,y),C=(j-N)*8;for(g.getLengthInBits()+4<=C&&g.put(0,4);g.getLengthInBits()%8!==0;)g.putBit(0);const b=(C-g.getLengthInBits())/8;for(let d=0;d<b;d++)g.put(d%2?17:236,8);return w(g,f,y)}function w(f,y,x){const g=n.getSymbolTotalCodewords(y),j=l.getTotalCodewordsCount(y,x),N=g-j,C=l.getBlocksCount(y,x),b=g%C,d=C-b,P=Math.floor(g/C),I=Math.floor(N/C),ne=I+1,Le=P-I,Rt=new c(Le);let se=0;const G=new Array(C),Fe=new Array(C);let oe=0;const Mt=new Uint8Array(f.buffer);for(let K=0;K<C;K++){const ae=K<d?I:ne;G[K]=Mt.slice(se,se+ae),Fe[K]=Rt.encode(G[K]),se+=ae,oe=Math.max(oe,ae)}const ie=new Uint8Array(g);let qe=0,F,q;for(F=0;F<oe;F++)for(q=0;q<C;q++)F<G[q].length&&(ie[qe++]=G[q][F]);for(F=0;F<Le;F++)for(q=0;q<C;q++)ie[qe++]=Fe[q][F];return ie}function M(f,y,x,g){let j;if(Array.isArray(f))j=p.fromArray(f);else if(typeof f=="string"){let P=y;if(!P){const I=p.rawSplit(f);P=u.getBestVersionForData(I,x)}j=p.fromString(f,P||40)}else throw new Error("Invalid data");const N=u.getBestVersionForData(j,x);if(!N)throw new Error("The amount of data is too big to be stored in a QR Code");if(!y)y=N;else if(y<N)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+N+`.
`);const C=v(y,x,j),b=n.getSymbolSize(y),d=new t(b);return h(d,y),S(d),A(d,y),B(d,x,0),y>=7&&R(d,y),T(d,C),isNaN(g)&&(g=a.getBestMask(d,B.bind(null,d,x))),a.applyMask(g,d),B(d,x,g),{modules:d,version:y,errorCorrectionLevel:x,maskPattern:g,segments:j}}return ue.create=function(y,x){if(typeof y>"u"||y==="")throw new Error("No input text");let g=s.M,j,N;return typeof x<"u"&&(g=s.from(x.errorCorrectionLevel,s.M),j=u.from(x.version),N=a.from(x.maskPattern),x.toSJISFunc&&n.setToSJISFunction(x.toSJISFunc)),M(y,j,g,N)},ue}var Re={},Me={},bt;function Tt(){return bt||(bt=1,(function(n){function s(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let t=i.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+i);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(r){return[r,r]}))),t.length===6&&t.push("F","F");const e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+t.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,a=t.scale||4;return{width:r,scale:r?4:a,margin:e,color:{dark:s(t.color.dark||"#000000ff"),light:s(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,e){return e.width&&e.width>=t+e.margin*2?e.width/(t+e.margin*2):e.scale},n.getImageWidth=function(t,e){const r=n.getScale(t,e);return Math.floor((t+e.margin*2)*r)},n.qrToImageData=function(t,e,r){const a=e.modules.size,l=e.modules.data,c=n.getScale(a,r),u=Math.floor((a+r.margin*2)*c),m=r.margin*c,E=[r.color.light,r.color.dark];for(let p=0;p<u;p++)for(let h=0;h<u;h++){let S=(p*u+h)*4,A=r.color.light;if(p>=m&&h>=m&&p<u-m&&h<u-m){const R=Math.floor((p-m)/c),B=Math.floor((h-m)/c);A=E[l[R*a+B]?1:0]}t[S++]=A.r,t[S++]=A.g,t[S++]=A.b,t[S]=A.a}}})(Me)),Me}var Ct;function ur(){return Ct||(Ct=1,(function(n){const s=Tt();function i(e,r,a){e.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=a,r.width=a,r.style.height=a+"px",r.style.width=a+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(r,a,l){let c=l,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=t()),c=s.getOptions(c);const m=s.getImageWidth(r.modules.size,c),E=u.getContext("2d"),p=E.createImageData(m,m);return s.qrToImageData(p.data,r,c),i(E,u,m),E.putImageData(p,0,0),u},n.renderToDataURL=function(r,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=n.render(r,a,c),m=c.type||"image/png",E=c.rendererOpts||{};return u.toDataURL(m,E.quality)}})(Re)),Re}var Pe={},jt;function fr(){if(jt)return Pe;jt=1;const n=Tt();function s(e,r){const a=e.a/255,l=r+'="'+e.hex+'"';return a<1?l+" "+r+'-opacity="'+a.toFixed(2).slice(1)+'"':l}function i(e,r,a){let l=e+r;return typeof a<"u"&&(l+=" "+a),l}function t(e,r,a){let l="",c=0,u=!1,m=0;for(let E=0;E<e.length;E++){const p=Math.floor(E%r),h=Math.floor(E/r);!p&&!u&&(u=!0),e[E]?(m++,E>0&&p>0&&e[E-1]||(l+=u?i("M",p+a,.5+h+a):i("m",c,0),c=0,u=!1),p+1<r&&e[E+1]||(l+=i("h",m),m=0)):c++}return l}return Pe.render=function(r,a,l){const c=n.getOptions(a),u=r.modules.size,m=r.modules.data,E=u+c.margin*2,p=c.color.light.a?"<path "+s(c.color.light,"fill")+' d="M0 0h'+E+"v"+E+'H0z"/>':"",h="<path "+s(c.color.dark,"stroke")+' d="'+t(m,u,c.margin)+'"/>',S='viewBox="0 0 '+E+" "+E+'"',R='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+S+' shape-rendering="crispEdges">'+p+h+`</svg>
`;return typeof l=="function"&&l(null,R),R},Pe}var Et;function hr(){if(Et)return O;Et=1;const n=Yt(),s=dr(),i=ur(),t=fr();function e(r,a,l,c,u){const m=[].slice.call(arguments,1),E=m.length,p=typeof m[E-1]=="function";if(!p&&!n())throw new Error("Callback required as last argument");if(p){if(E<2)throw new Error("Too few arguments provided");E===2?(u=l,l=a,a=c=void 0):E===3&&(a.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=l,l=a,a=void 0))}else{if(E<1)throw new Error("Too few arguments provided");return E===1?(l=a,a=c=void 0):E===2&&!a.getContext&&(c=l,l=a,a=void 0),new Promise(function(h,S){try{const A=s.create(l,c);h(r(A,a,c))}catch(A){S(A)}})}try{const h=s.create(l,c);u(null,r(h,a,c))}catch(h){u(h)}}return O.create=s.create,O.toCanvas=e.bind(null,i.render),O.toDataURL=e.bind(null,i.renderToDataURL),O.toString=e.bind(null,function(r,a,l){return t.render(r,l)}),O}var gr=hr();const mr=It(gr);function Ur(){const{t:n}=kt(),{toast:s}=Dt(),i=Lt(),[t,e]=L.useState(!1),[r,a]=L.useState(!1),[l,c]=L.useState(""),[u,m]=L.useState(""),[E,p]=L.useState(!1),[h,S]=L.useState(""),{data:A,isLoading:R}=H({queryKey:["wallet"],queryFn:async()=>(await k("/api/wallet")).json()}),{data:B,isLoading:T}=H({queryKey:["transactions"],queryFn:async()=>(await k("/api/wallet/transactions")).json()}),{data:v}=H({queryKey:["userStatus"],queryFn:async()=>(await k("/api/auth/me")).json()}),{data:w,isLoading:M}=H({queryKey:["depositAddress"],queryFn:async()=>(await k("/api/wallet/deposit-address")).json(),enabled:t}),{data:f}=H({queryKey:["walletControls"],queryFn:async()=>(await k("/api/wallet/controls")).json()}),{data:y}=H({queryKey:["withdrawals"],queryFn:async()=>(await k("/api/wallet/withdrawals")).json()}),x=Ft({mutationFn:async({amount:d,walletAddress:P})=>{const I=await k("/api/wallet/withdraw",{method:"POST",body:JSON.stringify({amount:parseFloat(d),walletAddress:P})});if(!I.ok){const ne=await I.json();throw new Error(ne.message)}return I.json()},onSuccess:d=>{i.invalidateQueries({queryKey:["wallet"]}),i.invalidateQueries({queryKey:["transactions"]}),i.invalidateQueries({queryKey:["withdrawals"]}),a(!1),c(""),m(""),s({title:"Withdrawal Requested",description:d.message})},onError:d=>{s({variant:"destructive",title:"Withdrawal Failed",description:d.message})}}),g=d=>{navigator.clipboard.writeText(d),p(!0),setTimeout(()=>p(!1),2e3),s({title:"Copied!",description:"Address copied to clipboard"})};L.useEffect(()=>{w?.address&&t&&mr.toDataURL(w.address,{width:200,margin:2}).then(S).catch(d=>console.error("QR Code generation failed:",d))},[w?.address,t]);const j=()=>{if(!f||!l)return 0;const P=(parseFloat(l)||0)*(parseFloat(f.withdrawalFeePercent)/100),I=parseFloat(f.withdrawalFeeFixed);return P+I},N=d=>{switch(d){case"deposit":return o.jsx(Z,{className:"h-4 w-4 text-green-400"});case"withdraw":return o.jsx(ce,{className:"h-4 w-4 text-red-400"});case"escrow_hold":return o.jsx(Qe,{className:"h-4 w-4 text-yellow-400"});case"escrow_release":return o.jsx(Z,{className:"h-4 w-4 text-green-400"});case"refund":return o.jsx(Z,{className:"h-4 w-4 text-blue-400"});default:return o.jsx(Q,{className:"h-4 w-4 text-gray-400"})}},C=d=>{switch(d){case"deposit":case"escrow_release":case"refund":return"text-green-400";case"withdraw":case"escrow_hold":case"fee":return"text-red-400";default:return"text-gray-400"}},b=d=>{switch(d){case"completed":return o.jsxs(V,{className:"bg-green-600",children:[o.jsx(We,{className:"h-3 w-3 mr-1"})," Completed"]});case"pending":return o.jsxs(V,{className:"bg-yellow-600",children:[o.jsx(Q,{className:"h-3 w-3 mr-1"})," Pending"]});case"approved":return o.jsxs(V,{className:"bg-blue-600",children:[o.jsx(Q,{className:"h-3 w-3 mr-1"})," Approved"]});case"processing":case"sent":return o.jsxs(V,{className:"bg-purple-600",children:[o.jsx(Ge,{className:"h-3 w-3 mr-1 animate-spin"})," Processing"]});case"rejected":case"failed":return o.jsxs(V,{className:"bg-red-600",children:[o.jsx(zt,{className:"h-3 w-3 mr-1"})," ",d]});default:return o.jsx(V,{children:d})}};return o.jsx(qt,{children:o.jsxs("div",{className:"space-y-4 sm:space-y-8 px-2 sm:px-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground truncate",children:"Wallet"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx($,{className:"bg-card border-border md:col-span-2",children:o.jsx(X,{className:"p-6",children:R?o.jsx(J,{className:"h-24 bg-muted"}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:n("wallet.availableBalance")}),o.jsxs("p",{className:"text-4xl font-bold text-foreground",children:[parseFloat(A?.availableBalance||"0").toFixed(2),o.jsx("span",{className:"text-xl ml-2 text-muted-foreground",children:"USDT"})]})]}),o.jsx("div",{className:"p-4 bg-primary rounded-2xl",children:o.jsx(Ut,{className:"h-8 w-8 text-primary-foreground"})})]})})}),o.jsx($,{className:"bg-card border-border",children:o.jsx(X,{className:"p-6",children:R?o.jsx(J,{className:"h-24 bg-muted"}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Qe,{className:"h-4 w-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:n("wallet.inEscrow")})]}),o.jsxs("p",{className:"text-3xl font-bold text-foreground",children:[parseFloat(A?.escrowBalance||"0").toFixed(2),o.jsx("span",{className:"text-lg ml-2 text-muted-foreground",children:"USDT"})]}),o.jsx("p",{className:"text-xs text-primary mt-2",children:n("wallet.protectedFunds")})]})})})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(ze,{open:t,onOpenChange:e,children:[o.jsx(Ke,{asChild:!0,children:o.jsxs(Y,{className:"bg-green-600 hover:bg-green-700 gap-2","data-testid":"button-deposit",disabled:!f?.depositsEnabled,children:[o.jsx(Z,{className:"h-4 w-4"}),n("Deposit")]})}),o.jsxs(He,{className:"bg-card border-border max-w-md",children:[o.jsxs(Ve,{children:[o.jsx(Oe,{className:"text-foreground",children:n("Deposit")}),o.jsx(Je,{className:"text-muted-foreground",children:n("wallet.sendUSDTBNB")})]}),o.jsx("div",{className:"space-y-4 pt-4",children:M?o.jsx(J,{className:"h-48 bg-muted"}):w?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"p-4 bg-white rounded-lg",children:h?o.jsx("img",{src:h,alt:"Deposit Address QR Code",className:"w-48 h-48"}):o.jsx(J,{className:"w-48 h-48"})})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-muted-foreground text-xs",children:n("wallet.network")}),o.jsx("p",{className:"text-foreground font-medium",children:n("wallet.bsc")}),o.jsx("p",{className:"text-muted-foreground text-xs",children:n("wallet.bnbSmartChain")})]}),o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-muted-foreground text-xs mb-2",children:n("Deposit")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("code",{className:"text-primary text-xs break-all flex-1 font-mono",children:w.address}),o.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>g(w.address),"data-testid":"button-copy-address",children:E?o.jsx(We,{className:"h-4 w-4 text-primary"}):o.jsx(_t,{className:"h-4 w-4"})})]})]}),o.jsxs(te,{className:"bg-muted border-border",children:[o.jsx(le,{className:"h-4 w-4 text-primary"}),o.jsxs(re,{className:"text-foreground text-xs",children:["Minimum deposit: 5 USDT. Deposits below this amount won't be credited to your account."," ",w.minConfirmations," confirmations required."]})]}),o.jsxs(te,{className:"bg-destructive/10 border-destructive",children:[o.jsx(le,{className:"h-4 w-4 text-destructive"}),o.jsx(re,{className:"text-foreground text-xs",children:"SEND ONLY USDT (BEP20) ON BNB SMART CHAIN. Other tokens or networks will result in permanent loss."})]}),o.jsx(Y,{className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium",children:"Save and Share Address"})]})]}):o.jsx("p",{className:"text-destructive",children:"Failed to generate deposit address"})})]})]}),o.jsxs(ze,{open:r,onOpenChange:a,children:[o.jsx(Ke,{asChild:!0,children:o.jsxs(Y,{variant:"outline",className:"gap-2","data-testid":"button-withdraw",disabled:v?.isFrozen||!f?.withdrawalsEnabled,title:v?.isFrozen?"Withdrawals are disabled while your account is frozen":void 0,children:[o.jsx(ce,{className:"h-4 w-4"}),"Withdraw"]})}),o.jsxs(He,{className:"bg-card border-border max-w-md",children:[o.jsxs(Ve,{children:[o.jsx(Oe,{className:"text-foreground",children:"Withdraw USDT"}),o.jsx(Je,{className:"text-muted-foreground",children:"Withdraw to any BNB Smart Chain address"})]}),o.jsx("div",{className:"space-y-4 pt-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-muted-foreground text-xs",children:"Network"}),o.jsx("p",{className:"text-foreground font-medium",children:"BSC"}),o.jsx("p",{className:"text-muted-foreground text-xs",children:"BNB Smart Chain (BEP20)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{className:"text-foreground text-xs",children:"Amount (USDT)"}),o.jsx(_e,{type:"text",placeholder:"0.00",className:"bg-muted border-border text-foreground",value:l,onChange:d=>{const P=d.target.value;P===""?c(""):/^\d+(\.\d{0,8})?$/.test(P)&&c(P)},"data-testid":"input-withdraw-amount"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Available:"," ",parseFloat(A?.availableBalance||"0").toFixed(4)," ","USDT",f&&" | Min: 5 USDT"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{className:"text-foreground text-xs",children:"Destination Address (BEP20)"}),o.jsx(_e,{placeholder:"0x...",className:"bg-muted border-border text-foreground font-mono text-sm",value:u,onChange:d=>m(d.target.value),"data-testid":"input-withdraw-address"})]}),l&&parseFloat(l)>0&&o.jsxs("div",{className:"p-3 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Amount"}),o.jsxs("span",{className:"text-foreground",children:[parseFloat(l).toFixed(4)," USDT"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Gas Fee"}),o.jsxs("span",{className:"text-primary",children:["-",j().toFixed(4)," USDT"]})]}),o.jsxs("div",{className:"border-t border-border pt-2 flex justify-between text-sm font-medium",children:[o.jsx("span",{className:"text-muted-foreground",children:"You will receive"}),o.jsxs("span",{className:"text-primary",children:[(parseFloat(l)-j()).toFixed(4)," ","USDT"]})]})]}),o.jsxs(te,{className:"bg-destructive/10 border-destructive",children:[o.jsx(le,{className:"h-4 w-4 text-destructive"}),o.jsx(re,{className:"text-foreground text-xs",children:"SEND ONLY TO BNB SMART CHAIN ADDRESSES. Double-check the address before submitting."})]}),o.jsx(Y,{className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium",onClick:()=>x.mutate({amount:l,walletAddress:u}),disabled:!l||!u||x.isPending||parseFloat(l)<5||parseFloat(l)+j()>parseFloat(A?.availableBalance||"0"),"data-testid":"button-confirm-withdraw",children:x.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):"Submit Withdrawal"}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Withdrawals require approval before processing,expect delay up to 24 hours."})]})})]})]})]}),y&&y.length>0&&o.jsxs($,{className:"bg-card border-border",children:[o.jsx(Ue,{children:o.jsxs(ke,{className:"text-foreground flex items-center gap-2",children:[o.jsx(ce,{className:"h-5 w-5"}),"Withdrawal Requests"]})}),o.jsx(X,{children:o.jsx("div",{className:"space-y-3",children:y.map(d=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted border border-border","data-testid":`withdrawal-${d.id}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("p",{className:"text-foreground font-medium",children:[parseFloat(d.amount).toFixed(4)," USDT"]}),b(d.status)]}),o.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["To: ",d.walletAddress?.slice(0,10),"...",d.walletAddress?.slice(-8)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.createdAt).toLocaleString()})]}),d.txHash&&o.jsx("a",{href:`https://bscscan.com/tx/${d.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80",children:o.jsx(Vt,{className:"h-4 w-4"})})]},d.id))})})]}),o.jsxs($,{className:"bg-card border-border",children:[o.jsx(Ue,{children:o.jsxs(ke,{className:"text-foreground flex items-center gap-2",children:[o.jsx(Q,{className:"h-5 w-5"}),"Transaction History"]})}),o.jsx(X,{children:T?o.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>o.jsx(J,{className:"h-16 bg-muted"},d))}):B&&B.length>0?o.jsx("div",{className:"space-y-3",children:B.map(d=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted border border-border","data-testid":`transaction-${d.id}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-muted-foreground/20",children:N(d.type)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-foreground font-medium capitalize",children:d.type.replace("_"," ")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:d.description||new Date(d.createdAt).toLocaleDateString()})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:`font-bold ${d.isNegative?"text-destructive":C(d.type)}`,children:[d.isNegative?"-":"+",parseFloat(d.amount).toFixed(4)," ",d.currency]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.createdAt).toLocaleTimeString()})]})]},d.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Q,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No transactions yet"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Your transaction history will appear here"})]})})]})]})})}export{Ur as default};
